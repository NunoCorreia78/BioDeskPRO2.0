<UserControl x:Class="BioDesk.App.Views.NovoPacienteView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:BioDesk.ViewModels;assembly=BioDesk.ViewModels"
             mc:Ignorable="d"
             d:DataContext="{d:DesignInstance Type=vm:NovoPacienteViewModel}">

    <Grid>
        <!-- Fundo gradiente -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                <GradientStop Color="#FCFDFB" Offset="0"/>
                <GradientStop Color="#F2F5F0" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <!-- ScrollViewer para suportar diferentes resoluÃ§Ãµes -->
        <ScrollViewer HorizontalScrollBarVisibility="Disabled" 
                     VerticalScrollBarVisibility="Auto"
                     Padding="20">
            
            <!-- CartÃ£o principal -->
            <Border Style="{StaticResource CartaoStyle}" 
                    MaxWidth="600" 
                    HorizontalAlignment="Center">
                
                <StackPanel Margin="40">
                    
                    <!-- CabeÃ§alho -->
                    <TextBlock Text="âœ¨ Novo Paciente" 
                              FontSize="28" 
                              FontWeight="Bold" 
                              Foreground="{StaticResource TextoPrincipal}"
                              HorizontalAlignment="Left" 
                              Margin="0,0,0,8"/>
                    
                    <TextBlock Text="Criar um novo registo de paciente no sistema" 
                              FontSize="14" 
                              Foreground="{StaticResource TextoSecundario}"
                              Margin="0,0,0,32"/>
                    
                    <!-- FormulÃ¡rio -->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Nome -->
                        <StackPanel Grid.Row="0" Margin="0,0,0,20">
                            <TextBlock Text="Nome Completo *" 
                                      FontWeight="SemiBold" 
                                      Foreground="{StaticResource TextoPrincipal}"
                                      Margin="0,0,0,8"/>
                            <TextBox Text="{Binding Nome, UpdateSourceTrigger=PropertyChanged}" 
                                    Style="{StaticResource CampoTextoStyle}"
                                    FontSize="16"
                                    Padding="16,12"/>
                        </StackPanel>
                        
                        <!-- Email -->
                        <StackPanel Grid.Row="1" Margin="0,0,0,20">
                            <TextBlock Text="Email" 
                                      FontWeight="SemiBold" 
                                      Foreground="{StaticResource TextoPrincipal}"
                                      Margin="0,0,0,8"/>
                            <TextBox Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}" 
                                    Style="{StaticResource CampoTextoStyle}"
                                    FontSize="16"
                                    Padding="16,12"/>
                        </StackPanel>
                        
                        <!-- Telefone -->
                        <StackPanel Grid.Row="2" Margin="0,0,0,20">
                            <TextBlock Text="Telefone" 
                                      FontWeight="SemiBold" 
                                      Foreground="{StaticResource TextoPrincipal}"
                                      Margin="0,0,0,8"/>
                            <TextBox Text="{Binding Telefone, UpdateSourceTrigger=PropertyChanged}" 
                                    Style="{StaticResource CampoTextoStyle}"
                                    FontSize="16"
                                    Padding="16,12"/>
                        </StackPanel>
                        
                        <!-- Data de Nascimento -->
                        <StackPanel Grid.Row="3" Margin="0,0,0,24">
                            <TextBlock Text="Data de Nascimento" 
                                      FontWeight="SemiBold" 
                                      Foreground="{StaticResource TextoPrincipal}"
                                      Margin="0,0,0,8"/>
                            <DatePicker SelectedDate="{Binding DataNascimento}" 
                                       FontSize="16"
                                       Padding="16,12"
                                       Background="{StaticResource FundoCartao}"
                                       BorderBrush="{StaticResource Borda}"
                                       BorderThickness="1"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                        
                        <!-- Mensagem de ValidaÃ§Ã£o -->
                        <TextBlock Grid.Row="4" 
                                  Text="{Binding MensagemValidacao}"
                                  FontSize="14"
                                  Foreground="#D32F2F"
                                  FontWeight="Medium"
                                  Margin="0,0,0,20"
                                  TextWrapping="Wrap"
                                  Visibility="{Binding MensagemValidacao, Converter={StaticResource StringToVisibilityConverter}}"/>
                        
                        <!-- BotÃµes -->
                        <StackPanel Grid.Row="5" 
                                   Orientation="Horizontal" 
                                   HorizontalAlignment="Right"
                                   Margin="0,20,0,0">
                            
                            <Button Content="Cancelar" 
                                   Command="{Binding CancelarCommand}"
                                   Background="Transparent"
                                   BorderBrush="{StaticResource Borda}"
                                   BorderThickness="2"
                                   Foreground="{StaticResource TextoSecundario}"
                                   FontSize="16"
                                   FontWeight="Medium"
                                   Padding="24,12"
                                   Margin="0,0,16,0"
                                   MinWidth="120"
                                   Cursor="Hand">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="Button">
                                                    <Border Background="{TemplateBinding Background}"
                                                           BorderBrush="{TemplateBinding BorderBrush}"
                                                           BorderThickness="{TemplateBinding BorderThickness}"
                                                           CornerRadius="8"
                                                           Padding="{TemplateBinding Padding}">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Background" Value="#F0F0F0"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </Button.Style>
                            </Button>
                            
                            <Button Content="ðŸ’¾ Salvar Paciente" 
                                   Command="{Binding SalvarCommand}"
                                   IsEnabled="{Binding IsFormularioValido}"
                                   Style="{StaticResource BotaoPrincipalStyle}"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Padding="24,12"
                                   MinWidth="180"
                                   Cursor="Hand"/>
                        </StackPanel>
                        
                        <!-- InformaÃ§Ã£o adicional -->
                        <TextBlock Grid.Row="6" 
                                  Text="* Campos obrigatÃ³rios"
                                  FontSize="12"
                                  Foreground="{StaticResource TextoSecundario}"
                                  Margin="0,24,0,0"
                                  HorizontalAlignment="Left"/>
                    </Grid>
                </StackPanel>
            </Border>
        </ScrollViewer>
    </Grid>
</UserControl>