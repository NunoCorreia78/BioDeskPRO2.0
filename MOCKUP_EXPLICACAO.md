# ğŸ“ MOCKUP: Painel de ConfiguraÃ§Ãµes AvanÃ§adas de Terapia

## ğŸ¯ Onde Vai Aparecer
Este painel serÃ¡ adicionado **dentro de cada sub-aba** de `TerapiasBioenergeticasUserControl`:
- **Aba "Programas"** â†’ Tem o seu prÃ³prio painel de configuraÃ§Ãµes
- **Aba "Ressonantes"** â†’ Tem o seu prÃ³prio painel de configuraÃ§Ãµes
- **Aba "Biofeedback"** â†’ Tem o seu prÃ³prio painel de configuraÃ§Ãµes

Cada aba pode ter configuraÃ§Ãµes **diferentes** guardadas.

---

## ğŸ–¼ï¸ Layout Visual (ASCII)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âš™ï¸ CONFIGURAÃ‡Ã•ES DE EMISSÃƒO                                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                            â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ Forma de Onda                  â”‚    â”‚ Voltagem            5.0 V      â”‚ â•‘
â•‘  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”œâ”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â•‘
â•‘  â”‚ â”‚ ğŸŒŠ Seno (Suave)          â–¼ â”‚ â”‚    â”‚ 0V                         12V â”‚ â•‘
â•‘  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ TensÃ£o elÃ©trica aplicada       â”‚ â•‘
â•‘  â”‚ PadrÃ£o de modulaÃ§Ã£o do sinal   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â•‘
â•‘                                                                            â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ Amplitude (%)           85%    â”‚    â”‚ DuraÃ§Ã£o Total da SessÃ£o        â”‚ â•‘
â•‘  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚ â•‘
â•‘  â”‚ 10%                       100% â”‚    â”‚ â”‚   30    â”‚ minutos            â”‚ â•‘
â•‘  â”‚ Percentagem da intensidade max â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ Tempo mÃ¡ximo aplicaÃ§Ã£o auto    â”‚ â•‘
â•‘                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                            â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘                                                                            â•‘
â•‘  â±ï¸ Tempo de EmissÃ£o por FrequÃªncia                                       â•‘
â•‘  â—‹ 5 segundos    â—‹ 10 segundos    â— 15 segundos    â—‹ Personalizado [8]segâ•‘
â•‘  Define quanto tempo cada Hz serÃ¡ emitida antes de passar para prÃ³xima    â•‘
â•‘                                                                            â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘                                                                            â•‘
â•‘                        [ğŸ’¾ Guardar como PadrÃ£o]  [ğŸ”„ Restaurar PadrÃ£o]   â•‘
â•‘                                                                            â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚ ğŸ’¡ Estas configuraÃ§Ãµes aplicam-se a TODOS os protocolos desta aba  â”‚  â•‘
â•‘  â”‚    (Programas/Ressonantes/Biofeedback). Podes ter configuraÃ§Ãµes    â”‚  â•‘
â•‘  â”‚    diferentes para cada tipo de terapia.                            â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ“‹ Elementos do Painel

### ğŸŒŠ **Forma de Onda** (Dropdown)
OpÃ§Ãµes disponÃ­veis:
- **ğŸŒŠ Seno (Suave)** - Onda sinusoidal suave, ideal para terapias prolongadas
- **â¬œ Quadrada (Pulsada)** - Onda quadrada com transiÃ§Ãµes abruptas, mÃ¡xima penetraÃ§Ã£o
- **ğŸ“ Triangular (Linear)** - Onda triangular com rampa linear
- **âš¡ Pulso (Intenso)** - Pulsos curtos de alta intensidade

**Uso:** Diferentes patologias podem responder melhor a diferentes formas de onda.

---

### âš¡ **Voltagem** (Slider 0-12V)
Controlo da tensÃ£o elÃ©trica aplicada ao equipamento TiePie HS3.
- **MÃ­nimo:** 0V (desligado)
- **MÃ¡ximo:** 12V (mÃ¡xima potÃªncia)
- **PadrÃ£o:** 5V (seguro para maioria das terapias)

---

### ğŸ“Š **Amplitude** (Slider 10-100%)
Percentagem da intensidade mÃ¡xima do sinal.
- **10%:** Terapia muito suave (diagnÃ³stico)
- **50%:** Terapia moderada (manutenÃ§Ã£o)
- **85%:** Terapia intensa (tratamento ativo)
- **100%:** MÃ¡xima intensidade (casos agudos)

---

### â±ï¸ **DuraÃ§Ã£o Total da SessÃ£o** (Input numÃ©rico)
Tempo mÃ¡ximo que a sessÃ£o pode durar antes de parar automaticamente.
- **Unidade:** Minutos
- **PadrÃ£o:** 30 minutos
- **Exemplo:** 45 minutos para terapias longas (detox)

---

### â±ï¸ **Tempo por FrequÃªncia** (RadioButtons + Input)
Quanto tempo cada frequÃªncia serÃ¡ emitida antes de passar para a prÃ³xima.

**OpÃ§Ãµes prÃ©-definidas:**
- â—‹ 5 segundos (rÃ¡pido - scanning)
- â—‹ 10 segundos (normal - terapia padrÃ£o)
- â— 15 segundos (longo - casos crÃ´nicos)
- â—‹ **Personalizado:** [__8__] seg (input manual)

---

## ğŸ¯ Como Funciona

1. **Utilizador abre aba "Programas"** na ficha do paciente
2. **Painel aparece no topo** (antes da lista de protocolos)
3. **Ajusta configuraÃ§Ãµes especÃ­ficas** para Programas:
   - Forma Onda: Quadrada (penetraÃ§Ã£o mÃ¡xima para parasitas)
   - Voltagem: 8V
   - Amplitude: 90%
   - Tempo/freq: 10 seg

4. **Clica "Guardar como PadrÃ£o"** â†’ ConfiguraÃ§Ã£o fica persistida na BD
5. **PrÃ³xima vez que abrir "Programas"** â†’ Carrega estas configuraÃ§Ãµes automaticamente

6. **Se mudar para aba "Ressonantes":**
   - Pode ter configuraÃ§Ãµes **completamente diferentes** guardadas:
   - Forma Onda: Seno (suave para ressonÃ¢ncias)
   - Voltagem: 3V
   - Amplitude: 60%
   - Tempo/freq: 15 seg

---

## ğŸ’¾ PersistÃªncia (Base de Dados)

### Tabela: `ConfiguracaoClinica`
Adicionar 3 colunas JSON:

```csharp
public string? TerapiaProgramasSettingsJson { get; set; }
public string? TerapiaRessonantesSettingsJson { get; set; }
public string? TerapiaBiofeedbackSettingsJson { get; set; }
```

### Modelo: `TerapiaSettings`
```csharp
public class TerapiaSettings {
    public TipoTerapia Tipo { get; set; } // Programas/Ressonantes/Biofeedback
    public FormaOnda FormaOnda { get; set; } // Seno/Quadrada/Triangular/Pulso
    public double VoltageemV { get; set; } // 0-12V
    public double AmplitudePercent { get; set; } // 10-100%
    public int DuracaoTotalMinutos { get; set; } // Tempo mÃ¡ximo sessÃ£o
    public int TempoPorFrequenciaSegundos { get; set; } // 5/10/15/custom
}
```

---

## ğŸš€ PrÃ³ximos Passos

### OpÃ§Ã£o A - Apenas UI Mockup (para aprovaÃ§Ã£o)
âœ… Criar XAML visual bÃ¡sico (FEITO)
- Ver ficheiro `MOCKUP_ConfiguracoesTerapia.xaml`
- Testar visualmente sem backend
- Tu aprovas o layout

### OpÃ§Ã£o B - ImplementaÃ§Ã£o Completa
1. Criar `enum FormaOnda`
2. Criar modelo `TerapiaSettings`
3. Estender `ConfiguracaoClinica` com 3 colunas JSON
4. Criar ViewModel com binding
5. Integrar em `TerapiasBioenergeticasUserControl.xaml`
6. Implementar lÃ³gica guardar/carregar
7. Testar com hardware TiePie

---

## â“ O Que Preferes?

**A) Aprovar layout primeiro** â†’ Depois implemento backend
**B) Implementar tudo agora** â†’ Sprint 6 completo (~2-3h)
**C) Simplificar ainda mais** â†’ Remover opÃ§Ãµes avanÃ§adas

**Diz-me o que achas do mockup! ğŸ¨**
